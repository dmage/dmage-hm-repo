GIT_PS1=''
if [ -r /opt/local/share/doc/git-core/contrib/completion/git-completion.bash ]; then
    . /opt/local/share/doc/git-core/contrib/completion/git-completion.bash
    GIT_PS1='$(__git_ps1)'
fi

COLOR_FIRST=17
COLOR_LAST=231
HOST_COLOR=$(( $(hostname | cksum | cut -d' ' -f1) % ($COLOR_LAST - $COLOR_FIRST + 1) + $COLOR_FIRST ))
C_HOST="\\[\033[38;05;${HOST_COLOR}m\\]"
C_RESET="\\[\033[0m\\]"
export PS1="${C_HOST}\\h${C_RESET} \\w${C_HOST}$GIT_PS1\\\$${C_RESET} "
